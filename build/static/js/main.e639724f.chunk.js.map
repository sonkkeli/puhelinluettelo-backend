{"version":3,"sources":["Component/Filter.js","Services/persons.js","Component/PersonList.js","Component/PersonForm.js","Component/Notification.js","App.js","index.js"],"names":["Filter","_ref","value","onChange","react_default","a","createElement","baseUrl","Services_persons","axios","get","then","response","data","newObject","post","id","delete","concat","changedPerson","put","PersonList","persons","whoIsMissing","handleButtonClick","filter","person","name","toLowerCase","includes","map","key","number","className","onClick","PersonForm","onSubmit","valueName","onNameChange","valueNumber","onNumberChange","type","Notification","message","role","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setWhoIsMissing","_useState9","_useState10","errorMessage","setErrorMessage","useEffect","personService","initialPersons","catch","error","setTimeout","Component_Notification","Component_Filter","event","target","Component_PersonForm","preventDefault","window","confirm","find","p","objectSpread","returnedPerson","Component_PersonList","tempPersons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.e639724f.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({value, onChange}) => {\r\n\r\n    return (\r\n        <div>\r\n            <form>\r\n                rajaa näytettäviä: <input value={value} onChange={onChange}/>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter;","import axios from 'axios'\r\n\r\n// const baseUrl = 'http://localhost:3001/persons'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    axios.delete(`${baseUrl}/${id}`)\r\n    return true;\r\n}\r\n\r\nconst update = (id, changedPerson) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, changedPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, deletePerson, update}","import React from 'react';\r\n\r\nconst PersonList = ({persons, whoIsMissing, handleButtonClick}) => {\r\n    const listPeople = () => {\r\n        const missings = persons.filter(\r\n            person => person.name.toLowerCase().includes(whoIsMissing.toLowerCase())\r\n        )\r\n    \r\n        return missings.map(\r\n            person => \r\n            <p key={person.id}>\r\n                {person.name} {person.number} <button \r\n                className=\"btn btn-dark btn-sm\" \r\n                onClick={() => handleButtonClick(person.id, person.name)}\r\n                >poista</button>\r\n            </p>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {listPeople()}\r\n        </div>        \r\n    )    \r\n}\r\n\r\nexport default PersonList;","import React from 'react';\r\n\r\nconst PersonForm = ({onSubmit, valueName, onNameChange, valueNumber, onNumberChange}) => {\r\n\r\n    return (\r\n        <form onSubmit={onSubmit}>\r\n            <div className=\"form-group\">\r\n                nimi: <input value={valueName} onChange={onNameChange}/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                numero: <input value={valueNumber} onChange={onNumberChange} />\r\n            </div>\r\n            <div >\r\n                <button type=\"submit\" className=\"btn btn-dark\">lisää</button>\r\n            </div>\r\n        </form>\r\n    )    \r\n}\r\n\r\nexport default PersonForm;","import React from 'react';\r\n\r\nconst Notification = ({message}) => {\r\n\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    if (message.includes('virhe')){\r\n        return (\r\n            <div className=\"alert alert-danger\" role=\"alert\">\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"alert alert-success\" role=\"alert\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification;","import React, { useState, useEffect } from 'react'\r\nimport Filter from './Component/Filter'\r\nimport personService from './Services/persons'\r\nimport PersonList from './Component/PersonList'\r\nimport PersonForm from './Component/PersonForm'\r\nimport Notification from './Component/Notification'\r\n\r\nconst App = () => {\r\n    const [ persons, setPersons] = useState([]) \r\n    const [ newName, setNewName ] = useState('')\r\n    const [ newNumber, setNewNumber] = useState('')\r\n    const [ whoIsMissing, setWhoIsMissing] = useState('')\r\n    const [ errorMessage, setErrorMessage ] = useState(null)\r\n\r\n    useEffect(() => {\r\n        personService\r\n        .getAll()\r\n        .then(initialPersons => {\r\n            setPersons(initialPersons)\r\n        })\r\n        .catch(error => {\r\n            setErrorMessage(`virhe: alkutietojen lataaminen epäonnistui`)\r\n            setTimeout(() => {setErrorMessage(null)}, 3000)\r\n        })\r\n    }, [])\r\n\r\n    const addNewPerson = (event) => {\r\n        event.preventDefault()\r\n\r\n        // jos on jo, niin update\r\n        if (persons.map(person => person.name.toLowerCase()).includes(newName.toLowerCase())){\r\n            if (window.confirm(`${newName} on jo luettelossa, tallennetaanko uudeksi numeroksi ${newNumber}?`)){\r\n                const person = persons.find(p => p.name === newName)\r\n                const changedPerson = {...person, number: newNumber }\r\n                personService\r\n                .update(person.id, changedPerson)\r\n                .then(returnedPerson => {\r\n                    setPersons(persons.map(person => person.name !== newName ? person : returnedPerson))\r\n                    setErrorMessage(`Numeron päivittäminen onnistui`)\r\n                    setTimeout(() => {setErrorMessage(null)}, 3000)\r\n                })\r\n                .catch(error => {\r\n                    setErrorMessage(`virhe: tietojen päivittäminen epäonnistui`)\r\n                    setTimeout(() => {setErrorMessage(null)}, 3000)\r\n                })\r\n            }\r\n        // jos ei, niin lisätään\r\n        } else {\r\n            const personObject = {\r\n                name: newName,\r\n                number: newNumber\r\n            }\r\n            personService\r\n            .create(personObject)\r\n            .then(returnedPerson => {\r\n                setPersons(persons.concat(returnedPerson))\r\n                setErrorMessage(`Lisäys onnistui`)\r\n                setTimeout(() => {setErrorMessage(null)}, 3000)\r\n            })\r\n            .catch(error => {\r\n                setErrorMessage(`virhe: ${error.message}`)\r\n                setTimeout(() => {setErrorMessage(null)}, 3000)\r\n            })\r\n        }\r\n        // molemmissa tapauksissa tyhjennetään tekstikentät   \r\n        setNewName('')\r\n        setNewNumber('')\r\n    }\r\n\r\n    const handleNameChange = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    const handleButtonClick = (id, name) => {\r\n        const success = false\r\n        if (window.confirm(`Poistetaanko ${name}`)){\r\n            personService\r\n                .deletePerson(id)\r\n            personService\r\n                .getAll()\r\n                .then(tempPersons => {\r\n                    setPersons(tempPersons.filter(person => person.id !== id))\r\n                    setErrorMessage(`Poistaminen onnistui`)\r\n                    setTimeout(() => {setErrorMessage(null)}, 3000)\r\n                })\r\n                .catch(error => {\r\n                    setErrorMessage(`virhe: henkilön poistaminen epäonnistui`)\r\n                    setTimeout(() => {setErrorMessage(null)}, 3000)\r\n                })\r\n        }\r\n    }\r\n\r\n    const handleFinderChange = (event) => {\r\n        if (event.target.value === ''){\r\n            setWhoIsMissing('')\r\n            // tässä oli joku outo bugi et vikaa kirjainta ei saanu poistettua\r\n            // vaikka kumittikin, niin tällee se ainaki korjaantu...\r\n        } else {\r\n            setWhoIsMissing(event.target.value)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\"><div className=\"text-center\">\r\n\r\n            <h2 className=\"display-3\">Puhelinluettelo</h2>      \r\n            <Notification message={errorMessage}/>\r\n\r\n            <Filter value={whoIsMissing} onChange={handleFinderChange}/>\r\n\r\n            <h3 className=\"display-4\">lisää uusi</h3>\r\n            <PersonForm onSubmit={addNewPerson} valueName={newName} onNameChange={handleNameChange} valueNumber={newNumber} onNumberChange={handleNumberChange}/>\r\n\r\n            <h3 className=\"display-4\">numerot</h3>\r\n            <PersonList persons={persons} whoIsMissing={whoIsMissing} handleButtonClick={handleButtonClick}/>            \r\n        </div></div>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './bootstrap.css'\nimport './index.css';\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}